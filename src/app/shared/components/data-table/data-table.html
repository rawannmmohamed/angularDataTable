<div class="card">
  <p-table
    [columns]="columns()"
    [value]="data()"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
   
    <ng-template pTemplate="header" let-columns>
      <tr>
        @for (col of columns; track $index) {
        <th [pSortableColumn]="col.field">
          {{ col.header }} @if(col.sortable){<p-sortIcon [field]="col.field" />}
        </th>
        }
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        @if(customBodyTemplate()) {
        <ng-container
          *ngTemplateOutlet="
            customBodyTemplate();
            context: { $implicit: rowData, columns: columns }
          "
        ></ng-container
        >} @else {
        <ng-container>
          @for (col of columns; track $index) {
          <td>{{ rowData[col.field] }}</td>
          }
        </ng-container>
        }
      </tr>
    </ng-template>
  </p-table>
</div>
